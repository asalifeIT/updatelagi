{"ast":null,"code":"import { __awaiter, __decorate, __metadata } from \"tslib\";\nimport { Router } from '@angular/router';\nimport { Component } from '@angular/core';\nimport { FormControl, FormBuilder, Validators } from '@angular/forms';\nimport { NavController, ModalController, LoadingController, ToastController, Platform } from '@ionic/angular';\nimport { ServiceService } from '../services/service.service';\nimport { ReplaySubject } from \"rxjs\";\nimport { UtilService } from 'src/app/services/util.service';\nlet TugashkPage = class TugashkPage {\n  constructor(formBuilder, navCtrl, loadingController, modalController, platform, toastController, serviceService, router, util) {\n    this.formBuilder = formBuilder;\n    this.navCtrl = navCtrl;\n    this.loadingController = loadingController;\n    this.modalController = modalController;\n    this.platform = platform;\n    this.toastController = toastController;\n    this.serviceService = serviceService;\n    this.router = router;\n    this.util = util;\n    this.authenticationState = new ReplaySubject();\n    this.validations = {\n      'mess': [{\n        type: 'required',\n        message: 'pilihan mess harus di isi'\n      }],\n      'no_kamar': [{\n        type: 'required',\n        message: 'nomor kamar harus di isi'\n      }]\n    };\n  }\n\n  ngOnInit() {\n    this.FrmTgshk = this.formBuilder.group({\n      mess: new FormControl('', Validators.compose([Validators.required])),\n      no_kamar: new FormControl('', Validators.compose([Validators.required]))\n    });\n    console.log(this.FrmTgshk.errors);\n  }\n\n  onsubmitTgshk() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const loading = yield this.loadingController.create({\n        message: 'Please wait...'\n      });\n      yield loading.present();\n      this.serviceService.submitaduan(this.FrmTgshk.value, 'housekeeping/record-add').subscribe(data => {\n        this.presentToast(\"Terimakasih Tugas Anda Terkirim\");\n        console.log(this.FrmTgshk.value);\n        this.FrmTgshk.reset();\n        loading.dismiss();\n      }, error => {\n        console.log(error);\n        this.presentToast(\"Tugas Gagal Terkirim!\");\n        console.log(this.FrmTgshk.value);\n        this.FrmTgshk.reset();\n        loading.dismiss();\n      });\n    });\n  }\n\n  presentToast(Message) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const toast = yield this.toastController.create({\n        message: Message,\n        duration: 2500,\n        position: \"top\"\n      });\n      toast.present();\n    });\n  }\n\n  onBack() {\n    this.router.navigate(['home']);\n  }\n\n};\nTugashkPage = __decorate([Component({\n  selector: 'app-tugashk',\n  templateUrl: './tugashk.page.html',\n  styleUrls: ['./tugashk.page.scss']\n}), __metadata(\"design:paramtypes\", [FormBuilder, NavController, LoadingController, ModalController, Platform, ToastController, ServiceService, Router, UtilService])], TugashkPage);\nexport { TugashkPage };","map":null,"metadata":{},"sourceType":"module"}