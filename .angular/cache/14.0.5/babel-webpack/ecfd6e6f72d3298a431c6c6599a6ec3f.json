{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ServiceService } from './../services/service.service';\nimport { ToastController, AlertController } from '@ionic/angular';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../services/service.service\";\nimport * as i2 from \"@ionic/angular\";\nexport let RoleGuard = /*#__PURE__*/(() => {\n  class RoleGuard {\n    constructor(serviceService, toastController, alertController) {\n      this.serviceService = serviceService;\n      this.toastController = toastController;\n      this.alertController = alertController;\n    }\n\n    canActivate() {\n      let Role = JSON.parse(localStorage.getItem(\"role\"));\n\n      if (Role == \"ROLE_WORKER\") {\n        //  alert(\"Anda Login Sebagai WORKER\")\n        return true;\n      } else {\n        if (Role == \"ROLE_MEGAUSER\") {\n          // alert(\"Anda Login Sebagai MEGA USER\")\n          return true;\n        } else {\n          if (Role == \"ROLE_SUPERUSER\") {\n            // alert(\"Anda Login Sebagai SUPER USER\")\n            return true;\n          } else {\n            if (Role == \"ROLE_HCGS\") {\n              // alert(\"Anda Login Sebagai HCGS\")\n              return true;\n            } else {\n              if (Role == \"ROLE_CUSTOMER\") {\n                // alert(\"Anda Login Sebagai CUSTOMER\")\n                return true;\n              }\n            }\n          }\n        }\n\n        this.presentAlertConfirm();\n        return false;\n      }\n    }\n\n    presentAlertConfirm() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-custom-class',\n          header: 'Perhatian!',\n          message: 'Anda Tidak Punya Akses. Silakan Login',\n          buttons: [{\n            text: 'Okay',\n            handler: () => {\n              this.router.navigate(['login']);\n            }\n          }]\n        });\n        yield alert.present();\n      });\n    }\n\n  }\n\n  RoleGuard.ɵfac = function RoleGuard_Factory(t) {\n    return new (t || RoleGuard)(i0.ɵɵinject(i1.ServiceService), i0.ɵɵinject(i2.ToastController), i0.ɵɵinject(i2.AlertController));\n  };\n\n  RoleGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RoleGuard,\n    factory: RoleGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return RoleGuard;\n})();","map":null,"metadata":{},"sourceType":"module"}